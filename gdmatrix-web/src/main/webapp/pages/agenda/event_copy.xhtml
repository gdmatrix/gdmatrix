<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:gdm="http://gdmatrix.org/faces"
      xmlns:p="http://primefaces.org/ui">

  <p:accordionPanel widgetVar="eventCopyPanel">
  
    <p:tab title="#{agendaBundle.eventRecurrences_settings}">
      <p:outputPanel id="event_copy_settings" styleClass="eventCopySettings">
        <ui:include src="/pages/agenda/event_copy_settings.xhtml" />
      </p:outputPanel> 
    </p:tab>

    <p:tab title="#{agendaBundle.eventRecurrences_preview}">
      <p:outputPanel id="event_copy_preview" styleClass="eventCopyPreview">        
        <p:outputPanel rendered="#{eventCopyTabBean.rows != null}"> 
          <ui:include src="/pages/agenda/event_copy_preview.xhtml" />
        </p:outputPanel>
        <p:outputPanel rendered="#{eventCopyTabBean.rows == null}">  
          <p:outputLabel value="#{agendaBundle.eventRecurrences_noParams}" />
        </p:outputPanel>
      </p:outputPanel>
    </p:tab>

    <p:ajax event="tabChange" />

  </p:accordionPanel>
  
  <p:outputPanel styleClass="actionBar">
    <p:commandButton action="#{eventRecurrencesTabBean.closeCopyDialog}"
                     styleClass="m-1" value="#{objectBundle.cancel}"
                     process="@this"
                     update="event_copy_dialog" global="false"
                     onclick="PF('eventCopyDialog').hide()"
                     icon="pi pi-times" />
  </p:outputPanel>  
  
  <gdm:saveBean value="eventCopyTabBean" />
  
</html>
