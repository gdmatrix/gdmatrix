<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pe="http://primefaces.org/ui/extensions"                
                xmlns:sf="http://faces.santfeliu.org"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <f:loadBundle basename="org.santfeliu.agenda.web.resources.AgendaBundle"
                  var="agendaBundle" />
    
    <div class="ui-fluid formgrid grid">   
      
      <p:outputPanel styleClass="field col-12" 
                     rendered="true">
        <p:outputLabel for="title" value="#{agendaBundle.event_title}" />
        <p:inputText id="title" value="#{eventObjectBean.event.summary}" 
                     required="true"
                     styleClass="inputfield w-full"/>
      </p:outputPanel>

      <p:outputPanel styleClass="field col-12"
                     rendered="#{eventObjectBean.allTypes.size() > 1}">
        <p:outputLabel for="event_type_id" value="#{agendaBundle.event_type}" /> 
        <p:selectOneMenu id="event_type_id" value="#{eventObjectBean.event.eventTypeId}"  
                         styleClass="inputfield w-full" filter="true" var="t">
          <f:selectItems value="#{eventObjectBean.allTypes}" 
                         var="type" itemLabel="#{type.description}" 
                         itemValue="#{type.typeId}" />
          <p:column style="width:30%">
            <h:outputText value="#{t}" />
          </p:column>
          <p:column style="width:70%">
            <h:outputText value="#{typeBean.getDescription(t)}" />
          </p:column>            
        </p:selectOneMenu>
      </p:outputPanel>

      <p:outputPanel styleClass="field col-12 md:col-3">
        <p:outputLabel for="start_date" value="#{agendaBundle.event_startDate}" />
        <!-- TODO: disable if not editable -->
        <p:datePicker id="start_date" value="#{eventObjectBean.startDateTime}" 
                      locale="#{eventObjectBean.language}" 
                      showIcon="true" showTime="true"
                      monthNavigator="true" yearNavigator="true" />
      </p:outputPanel>     

      <p:outputPanel styleClass="field col-12 md:col-3"
                     rendered="true">
        <p:outputLabel for="end_date" value="#{agendaBundle.event_endDate}" />
        <!-- TODO: disable if not editable -->
        <p:datePicker id="end_date" value="#{eventObjectBean.endDateTime}" 
                      locale="#{eventObjectBean.language}" 
                      showIcon="true" showTime="true"
                      monthNavigator="true" yearNavigator="true" />
      </p:outputPanel>        

      <p:outputPanel styleClass="field col-12 md:col-3" rendered="#{eventObjectBean.creationDateTime != null}">
        <p:outputLabel value="#{agendaBundle.event_creationDateTime}"/>
        <p:datePicker value="#{eventObjectBean.creationDateTime}" 
                      locale="#{eventObjectBean.language}" 
                      showIcon="true" disabled="true" showTime="true" />          
        <p:outputLabel value="#{agendaBundle.event_createdBy}:"
          styleClass="textBox" style="margin-right: 2px"
          rendered="#{eventObjectBean.event.creationUserId != null}"/>
        <h:outputText value="#{eventObjectBean.event.creationUserId}"/>
      </p:outputPanel>

      <p:outputPanel styleClass="field col-12 md:col-3" rendered="#{eventObjectBean.changeDateTime != null}">
        <p:outputLabel value="#{agendaBundle.event_changeDateTime}"/>
        <p:datePicker  value="#{eventObjectBean.changeDateTime}" 
                      locale="#{eventObjectBean.language}" 
                      showIcon="true" disabled="true" showTime="true" />          
        <p:outputLabel value="#{agendaBundle.event_changedBy}:"
          styleClass="textBox" style="margin-right: 2px"
          rendered="#{eventObjectBean.event.changeUserId != null}"/>
        <h:outputText value="#{eventObjectBean.event.changeUserId}"/>
      </p:outputPanel>

      <p:outputPanel styleClass="field col-12"
                     rendered="true">
        <p:outputLabel for="description" value="#{agendaBundle.event_description}"  />        
        <p:inputTextarea id="description" value="#{eventObjectBean.event.description}" 
                         styleClass="inputfield w-full" />
      </p:outputPanel> 

      <p:outputPanel styleClass="field col-12"
                     rendered="true">
        <p:outputLabel for="detail" value="#{agendaBundle.event_detail}"  />    
        <pe:ckEditor id="detail"
                     value="#{eventObjectBean.event.detail}"
                     enterMode="CKEDITOR.ENTER_BR"
                     font='Courier New'
                     fontSize='11px'
                     skin="office2013"
                     readonly="#{not eventObjectBean.editable}"
                     width="100%"> 
        </pe:ckEditor>          

      </p:outputPanel> 

      <p:outputPanel styleClass="field col-12"
                     rendered="true">
        <p:outputLabel for="comments" value="#{agendaBundle.event_hiddenComments}"  />        
        <p:inputTextarea id="comments" value="#{eventObjectBean.event.comments}" 
                         styleClass="inputfield w-full" />
      </p:outputPanel> 

      <p:outputPanel styleClass="field col-12"
                     rendered="true">
        <p:selectBooleanCheckbox id="onlyAttendants" value="#{eventObjectBean.onlyAttendants}" />
        <p:outputLabel for="onlyAttendants" value="#{agendaBundle.event_onlyAttendants}" />
      </p:outputPanel>

      <p:outputPanel styleClass="field col-12"
                     rendered="#{eventObjectBean.new}">
        <p:selectBooleanCheckbox id="autoAttendant" value="#{eventObjectBean.autoAttendant}" />
        <p:outputLabel for="autoAttendant" value="#{agendaBundle.event_autoAttendant}" />
      </p:outputPanel>
      
    </div>
    
</ui:composition>
