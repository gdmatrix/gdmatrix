<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:sf="http://faces.santfeliu.org"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:emcomp="http://xmlns.jcp.org/jsf/composite/emcomp">


    <ui:repeat value="#{typeObjectBean.superTypes}" var="type">      
      <h:panelGroup class="" style="display:block">
        <span class="#{favoriteObjectsBean.icon} mr-2" />
        <p:commandLink action="#{navigatorBean.view(type.getTypeId())}" 
                       process="@this" 
                       update=":mainform:search_tabs:obj_tabs :mainform:context_panel">
          <h:outputText value="#{type.typeId} : #{type.description}" />
        </p:commandLink>
      </h:panelGroup>
      <h:panelGroup>
        <span class="pi pi-arrow-up mr-2" />
      </h:panelGroup>
    </ui:repeat>     
  
  <div class="ui-fluid formgrid grid">
    
 

    <div class="field col-12 md:col-6">
      <p:outputLabel for="@next" value="TypeId" />
      <p:inputText value="#{typeObjectBean.objectId}" 
                    required="#{not empty param['mainform:search_tabs:store']}"
                    requiredMessage="Type is mandatory"                  
                    />
    </div>

    <div class="field col-12 md:col-6">
      <p:outputLabel for="@next" value="SupertypeId" indicateRequired="true"/>    
      <p:autoComplete id="supertypeid"
                      value="#{typeObjectBean.superTypeSelectItem}"
                      maxResults="5" dropdown="true" dropdownMode="blank" cache="true"
                      minQueryLength="3" queryDelay="1000"
                      completeMethod="#{typeObjectBean.complete}"
                      converter="selectItemConverter"                        
                      var="item" itemValue="#{item}" itemLabel="#{item.label}"
                      onclick="this.setSelectionRange(0, this.value.length)"
                      required="#{not empty param['mainform:search_tabs:store']}"
                      requiredMessage="Supertype is mandatory"> 
        <p:column>                 
          <h:outputText value="#{item.label}" />
        </p:column>        
      </p:autoComplete>          
    </div>   

    <div class="field col-12 md:col-12">
      <p:outputLabel for="@next" value="Description" indicateRequired="true"/>
      <p:inputText value="#{typeObjectBean.type.description}"
                   required="#{not empty param['mainform:search_tabs:store']}"
                   requiredMessage="Description is mandatory" />
    </div>    

    <div class="field col-12 md:col-12">
      <p:outputLabel for="@next" value="Detail" />
      <p:inputTextarea value="#{typeObjectBean.type.detail}"
                       />
    </div>  
    
    <div class="field col-12">
      <p:selectBooleanCheckbox id="instantiable" value="#{typeObjectBean.type.instantiable}" styleClass="mr-2" />
      <p:outputLabel for="instantiable" value="Instantiable" />
    </div>    

    <div class="field col-12">
      <p:selectBooleanCheckbox id="restricted" value="#{typeObjectBean.type.restricted}" styleClass="mr-2" />
      <p:outputLabel for="restricted" value="Restricted properties" />
    </div>        

    <p:outputPanel styleClass="field col-12 md:col-3" 
                   rendered="#{typeObjectBean.type.creationDateTime != null}">
      <p:outputLabel for="@next" value="Creació"/>
      <p:datePicker  id="creation_date_time" value="#{typeObjectBean.type.creationDateTime}"
                     pattern="dd/MM/yyyy HH:mm:ss"
                     locale="es" converter="datePickerConverter"
                     showIcon="false" disabled="true" showTime="true" />          
    </p:outputPanel> 
    
    <p:outputPanel styleClass="field col-12 md:col-3" 
                   rendered="#{typeObjectBean.type.creationDateTime != null}">        
      <p:outputLabel for="@next" value="Usuari creador" />
      <p:inputText id="creation_user_id" value="#{typeObjectBean.type.creationUserId}" disabled="true"/>
    </p:outputPanel>     

    <p:outputPanel styleClass="field col-12 md:col-3"
                   rendered="#{typeObjectBean.type.changeDateTime != null}">
      <p:outputLabel value="Darrera modificació"/>
      <p:datePicker id="change_date_time" value="#{typeObjectBean.type.changeDateTime}" 
                    pattern="dd/MM/yyyy HH:mm:ss"
                     locale="es" converter="datePickerConverter"
                     showIcon="false" disabled="true" showTime="true" />          
    </p:outputPanel>       
    
    <p:outputPanel styleClass="field col-12 md:col-3"
                   rendered="#{typeObjectBean.type.changeDateTime != null}">        
      <p:outputLabel for="@next" value="Usuari modificador" />
      <p:inputText id="change_user_id" value="#{typeObjectBean.type.changeUserId}" disabled="true"/>
    </p:outputPanel>       
    
  </div>  
</ui:composition>