<ui:composition 
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:ui="http://java.sun.com/jsf/facelets"      
  xmlns:p="http://primefaces.org/ui">
  
  <p:dataTable value="#{caseFinderBean.columnsHelper.resultList}" 
               var="row" stripedRows="true" 
               paginator="true" pageLinks="5"
               paginatorPosition="bottom" size="small"
               first="#{caseFinderBean.firstRow}"
               rowStyleClass="#{row.caseId == caseObjectBean.objectId ? 'current' : ''}"
               rows="10"
               rowIndexVar="rowIndex">
    
    <p:columns value="#{caseFinderBean.columnsHelper.columns}" var="column" 
               headerText="#{column.label}" field="#{column.name}" styleClass="#{column.styleClass}"
               filterable="false" sortable="false" resizable="false"
               rendered="#{not empty caseFinderBean.columnsHelper.columns}">
    </p:columns>    

    <p:column headerText="#{caseBundle.case_caseId}" styleClass="w-1" rendered="#{empty caseFinderBean.columnsHelper.columns}">
      <h:outputText value="#{row.caseId}" />
    </p:column>   
    <p:column headerText="#{caseBundle.case_caseTypeId}" styleClass="w-2" rendered="#{empty caseFinderBean.columnsHelper.columns}">
      <h:outputText value="#{row.caseTypeId}" />
    </p:column>         
    <p:column headerText="#{caseBundle.case_title}" styleClass="w-7" rendered="#{empty caseFinderBean.columnsHelper.columns}">
      <h:outputText value="#{row.title}" />
    </p:column>
    <p:column styleClass="w-2 text-right">
      <p:commandButton icon="ui-icon pi pi-arrow-circle-left"
                       styleClass="rounded-button ui-button-flat"
                       action="#{navigatorBean.select(row.caseId)}"
                       rendered="#{navigatorBean.selectionPending}"
                       ajax="false"
                       immediate="true"
                       title="Select" alt="Select"
                       />
      <p:commandButton icon="pi pi-external-link" 
                       styleClass="rounded-button ui-button-flat" 
                       action="#{caseFinderBean.view(rowIndex)}"
                       onclick="PF('objectTabs').select(0);"
                       resetValues="true"
                       process="@this"
                       oncomplete="PF('objectTabs').select(0);PF('searchTabs').select(1);"
                       update=":mainform:search_tabs:obj_tabs :mainform:context_panel"
                       />     
    </p:column>
  </p:dataTable>  

</ui:composition> 

