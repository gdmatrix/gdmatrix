<?xml version="1.0" encoding="UTF-8"?>
<web-app version="3.1" xmlns="http://xmlns.jcp.org/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd">
  <display-name>Matrix-2.2</display-name>
  <description>Matrix</description>
  <welcome-file-list>
    <welcome-file>main.faces</welcome-file>
  </welcome-file-list>
  <context-param>
    <param-name>javax.faces.PROJECT_STAGE</param-name>
    <param-value>Development</param-value>
  </context-param>
  <context-param>
    <param-name>javax.faces.FACELETS_LIBRARIES</param-name>
    <param-value>/WEB-INF/santfeliu.taglib.xml</param-value>
  </context-param>
  <context-param>
    <param-name>javax.faces.FACELETS_SKIP_COMMENTS</param-name>
    <param-value>true</param-value>
  </context-param>
  <context-param>
    <param-name>javax.faces.PARTIAL_STATE_SAVING</param-name>
    <param-value>false</param-value>
  </context-param>
  <context-param>
    <param-name>javax.faces.DATETIMECONVERTER_DEFAULT_TIMEZONE_IS_SYSTEM_TIMEZONE</param-name>
    <param-value>true</param-value>
  </context-param>
  <context-param>
    <param-name>primefaces.THEME</param-name>
    <param-value>#{userSessionBean.selectedMenuItem.properties.primefacesTheme != null ? userSessionBean.selectedMenuItem.properties.primefacesTheme : 'smoothness'}</param-value>
  </context-param>
  <context-param>
    <param-name>javax.faces.STATE_SAVING_METHOD</param-name>
    <param-value>client</param-value>
  </context-param>
  <context-param>
    <param-name>org.matrix.BEAN_SAVING_METHOD</param-name>
    <param-value>view</param-value>
  </context-param>  
  <context-param>
    <param-name>javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL</param-name>
    <param-value>false</param-value>
  </context-param>
  <context-param>
    <param-name>com.sun.faces.expressionFactory</param-name>
    <param-value>com.sun.el.ExpressionFactoryImpl</param-value>
  </context-param>
  <!-- ********** Web parameters  ********** -->
  <context-param>
    <param-name>javax.faces.CONFIG_FILES</param-name>
    <param-value>
      /WEB-INF/faces-config.xml,
      /WEB-INF/dic-config.xml,
      /WEB-INF/news-config.xml,
      /WEB-INF/security-config.xml,
      /WEB-INF/agenda-config.xml,
      /WEB-INF/doc-config.xml,
      /WEB-INF/policy-config.xml,
      /WEB-INF/classif-config.xml,
      /WEB-INF/cms-config.xml,
      /WEB-INF/forum-config.xml,
      /WEB-INF/kernel-config.xml,
      /WEB-INF/workflow-config.xml,
      /WEB-INF/misc-config.xml,
      /WEB-INF/sign-config.xml,
      /WEB-INF/survey-config.xml,
      /WEB-INF/report-config.xml,
      /WEB-INF/translation-config.xml,
      /WEB-INF/search-config.xml,
      /WEB-INF/presence-config.xml,
      /WEB-INF/cases-config.xml,
      /WEB-INF/edu-config.xml,
      /WEB-INF/test-config.xml,
      /WEB-INF/mobile-config.xml,
      /WEB-INF/feed-config.xml
    </param-value>
  </context-param>
  <context-param>
    <param-name>org.apache.myfaces.DETECT_JAVASCRIPT</param-name>
    <param-value>false</param-value>
  </context-param>
  <context-param>
    <param-name>org.apache.myfaces.ALLOW_JAVASCRIPT</param-name>
    <param-value>true</param-value>
  </context-param>
  <context-param>
    <param-name>matrix.config.dir</param-name>
    <param-value>/etc/matrix</param-value>
  </context-param>
  <context-param>
    <param-name>wsdirectory.url</param-name>
    <param-value>http://localhost:80/wsdirectory</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.web.forcedLanguage</param-name>
    <param-value>ca</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.web.logConfig</param-name>
    <param-value>log_web.properties</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.web.loginTitle</param-name>
    <param-value>Matrix 2.2</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.web.defaultPort</param-name>
    <param-value>80</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.web.serverSecurePort</param-name>
    <param-value>443</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.web.clientSecurePort</param-name>
    <param-value>8443</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.web.defaultWorkspaceId</param-name>
    <param-value>1</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.web.redirectionLimit</param-name>
    <param-value>2</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.web.autoLogin.ipPattern</param-name>
    <param-value>10\..*</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.web.autoLogin.userId</param-name>
    <param-value>intranet</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.web.autoLogin.password</param-name>
    <param-value>intranet1</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.web.intranetRoles</param-name>
    <param-value>EMPLEAT,INTRANET</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.web.UserPreferences.dbAlias</param-name>
    <param-value>jdbc/matrix</param-value>
  </context-param>
  <context-param>
    <param-name>mail.smtp.host</param-name>
    <param-value>helios</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.cases.dictionaryURL</param-name>
    <param-value>http://localhost:80/services/dic?wsdl</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.translation.defaultLanguage</param-name>
    <param-value>ca</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.translation.supportedLanguages</param-name>
    <param-value>ca,es,en,fr,de,it,pt,ru,ar,zh,ro,bg</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.translation.stringTranslator</param-name>
    <param-value>org.santfeliu.translation.string.DefaultStringTranslator</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.translation.string.DefaultStringTranslator.minNumItems</param-name>
    <param-value>3000</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.translation.string.DefaultStringTranslator.maxNumItems</param-name>
    <param-value>4000</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.translation.string.DefaultStringTranslator.maxNumItemsPerActivation</param-name>
    <param-value>10</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.translation.string.DefaultStringTranslator.minItemSurviveMillis</param-name>
    <param-value>60000</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.translation.string.DefaultStringTranslator.minItemActivationMillis</param-name>
    <param-value>36000000</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.translation.string.DefaultStringTranslator.syncMillis</param-name>
    <param-value>10000</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.translation.string.DefaultStringTranslator.activationMillis</param-name>
    <param-value>60000</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.translation.string.DefaultStringTranslator.purgeMillis</param-name>
    <param-value>60000</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.translation.string.GoogleStringTranslator.httpReferrer</param-name>
    <param-value>http://www.santfeliu.cat</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.translation.service.TranslationManager.stringTranslator</param-name>
    <param-value>org.santfeliu.translation.string.EchoStringTranslator</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.ws.WSCallCache.news.clearInterval</param-name>
    <param-value>600000</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.ws.WSCallCache.news.maxSize</param-name>
    <param-value>200</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.ws.WSCallCache.feed.clearInterval</param-name>
    <param-value>600000</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.ws.WSCallCache.feed.maxSize</param-name>
    <param-value>200</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.ws.WSCallCache.agenda.clearInterval</param-name>
    <param-value>300000</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.ws.WSCallCache.agenda.maxSize</param-name>
    <param-value>200</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.gis.proxy.driver</param-name>
    <param-value>org.santfeliu.gis.driver.oracle.OracleDriver</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.gis.proxy.url</param-name>
    <param-value>oracle:1521:ajfeliu</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.news.web.NewsRSSServlet.defaultNewsNodeId</param-name>
    <param-value>1467</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.agenda.web.AgendaServlet.eventUidSuffix</param-name>
    <param-value>www.santfeliu.cat</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.cms.cWorkspaceCacheMaxSize</param-name>
    <param-value>5000</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.search.defaultAgendaThemeList</param-name>
    <param-value>12,52</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.search.defaultNewsSectionList</param-name>
    <param-value>1467,246,334,9242</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.search.defaultWebRootList</param-name>
    <param-value>1</param-value>
  </context-param>
  <!-- ********** WS parameters ********** -->
  <context-param>
    <param-name>global.dataSource</param-name>
    <param-value>jdbc/matrix</param-value>
  </context-param>
  <context-param>
    <param-name>global.servicesURL</param-name>
    <param-value>http://localhost:80/services/</param-value>
  </context-param>
  <context-param>
    <param-name>adminCredentials.userId</param-name>
    <param-value>admin</param-value>
  </context-param>
  <context-param>
    <param-name>adminCredentials.password</param-name>
    <param-value>******</param-value>
  </context-param>
  <context-param>
    <param-name>KernelManager.checkStorePersonQuery</param-name>
    <param-value>SELECT PERSCOD FROM HAB_MOVHABS WHERE PERSCOD = ? AND DATAFINAL = ' '</param-value>
  </context-param>
  <context-param>
    <param-name>KernelManager.protectedStreetIdPattern</param-name>
    <param-value>108;8;211;.*</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.ws.logConfig</param-name>
    <param-value>log_svc.properties</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.security.provider.className</param-name>
    <param-value>org.santfeliu.security.provider.psis.PSIS</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.security.provider.PSIS.serviceURL</param-name>
    <param-value>http://psis.catcert.net/psis/catcert/dss</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.security.provider.PSIS.pdf.serviceURL</param-name>
    <param-value>http://psis.catcert.net/psis/catcert/dsspdf</param-value>
  </context-param>  
  <context-param>
    <param-name>org.santfeliu.security.tspURL</param-name>
    <param-value>http://psis.catcert.net/psis/catcert/tsp</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.security.urlCredentialsCipher.secret</param-name>
    <param-value>A2b25T939</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.security.authUserPasswordCipher.secret</param-name>
    <param-value>85aB06921</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.security.service.SecurityManager.masterPassword</param-name>
    <param-value>95csk0t29</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.security.service.SecurityManager.certUserRoles</param-name>
    <param-value>USERCERT</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.security.service.SecurityManager.digestEncoder</param-name>
    <param-value>org.santfeliu.security.encoder.MatrixDigestEncoder</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.security.service.SecurityManager.ldap.enabled</param-name>
    <param-value>true</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.security.service.SecurityManager.ldap.url</param-name>
    <param-value>ldap://carpo;ldap://heracles</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.security.service.SecurityManager.ldap.domain</param-name>
    <param-value>santfeliu.local</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.security.service.SecurityManager.ldap.base</param-name>
    <param-value>DC=santfeliu,DC=local</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.security.service.SecurityManager.ldap.adminUserId</param-name>
    <param-value>administrador</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.security.service.SecurityManager.ldap.adminPassword</param-name>
    <param-value>changeme</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.security.service.SecurityManager.userLength</param-name>
    <param-value>4</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.security.service.SecurityManager.passwordLength</param-name>
    <param-value>6</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.security.service.SecurityManager.validateCertificate</param-name>
    <param-value>true</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.service.SignatureManager.storeClassName</param-name>
    <param-value>org.santfeliu.signature.store.DocumentManagerStore</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.service.SignatureManager.userSignOID</param-name>
    <param-value>1.3.6.1.4.1.15096.2.3.7.8</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.service.SignatureManager.userSignHash</param-name>
    <param-value>0000000001</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.service.SignatureManager.systemSignOID</param-name>
    <param-value>1.3.6.1.4.1.15096.2.3.6.8</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.service.SignatureManager.systemSignHash</param-name>
    <param-value>0000000002</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.service.SignatureManager.validateCertificate</param-name>
    <param-value>true</param-value>
  </context-param>
  <!-- DocumentManagerCertificateStore configuration 
  <context-param>
    <param-name>org.santfeliu.signature.certificate.storeClass</param-name>
    <param-value>org.santfeliu.signature.certificate.DocumentManagerCertificateStore</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.DocumentManagerCertificateStore.docTypeId</param-name>
    <param-value>sf:CertificatDigital</param-value>
  </context-param>
  -->
  <!-- MatrixConfigCertificateStore configuration -->
  <context-param>
    <param-name>org.santfeliu.signature.certificate.tramitacio.keyStorePath</param-name>
    <param-value>certificates/tramitacio.p12</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.tramitacio.keyStoreType</param-name>
    <param-value>PKCS12</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.tramitacio.keyStorePassword</param-name>
    <param-value>tomcat</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.tramitacio.keyAlias</param-name>
    <param-value>tramitacio</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.tramitacio.keyPassword</param-name>
    <param-value>tomcat</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.perfil.keyStorePath</param-name>
    <param-value>certificates/perfil.p12</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.perfil.keyStoreType</param-name>
    <param-value>PKCS12</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.perfil.keyStorePassword</param-name>
    <param-value>tomcat</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.perfil.keyAlias</param-name>
    <param-value>perfil</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.perfil.keyPassword</param-name>
    <param-value>tomcat</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.taulell.keyStorePath</param-name>
    <param-value>certificates/taulell.p12</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.taulell.keyStoreType</param-name>
    <param-value>PKCS12</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.taulell.keyStorePassword</param-name>
    <param-value>tomcat</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.taulell.keyAlias</param-name>
    <param-value>taulell</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.taulell.keyPassword</param-name>
    <param-value>tomcat</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.padro.keyStorePath</param-name>
    <param-value>certificates/padro.p12</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.padro.keyStoreType</param-name>
    <param-value>PKCS12</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.padro.keyStorePassword</param-name>
    <param-value>tomcat</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.padro.keyAlias</param-name>
    <param-value>padro</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.signature.certificate.padro.keyPassword</param-name>
    <param-value>tomcat</param-value>
  </context-param>
  <!-- END MatrixConfigCertificateStore configuration -->  
  <context-param>
    <param-name>valid.baseUrl</param-name>
    <param-value>https://identitats.aoc.cat</param-value>
  </context-param>
  <context-param>
    <param-name>valid.clientId</param-name>
    <param-value>changeit</param-value>
  </context-param>
  <context-param>
    <param-name>valid.clientSecret</param-name>
    <param-value>changeit</param-value>
  </context-param>
  <context-param>
    <param-name>valid.redirectUrl</param-name>
    <param-value>changeit</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.workflow.service.WorkflowManager.workflowStore</param-name>
    <param-value>org.santfeliu.workflow.store.wsdoc.DocumentWorkflowStore</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.workflow.service.WorkflowManager.dataStore</param-name>
    <param-value>org.santfeliu.workflow.store.dsdbf.DBDataStore</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.workflow.service.WorkflowManager.agents</param-name>
    <param-value>smith,johnson</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.workflow.service.WorkflowManager.maxSteps</param-name>
    <param-value>100</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.workflow.store.dsdbf.DBDataStore.dsn</param-name>
    <param-value>jdbc/matrix</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.workflow.node.SQLNode.dsn</param-name>
    <param-value>jdbc/matrix</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.workflow.fixEnabled</param-name>
    <param-value>false</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.workflow.fixRulesURL</param-name>
    <param-value>file:/C:/matrix/conf/workflow-fixer.xml</param-value>
  </context-param>
  <context-param>
    <param-name>htmlFixer.script</param-name>
    <param-value>html_fixer</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.sql.service.SQLManager.connectionStore</param-name>
    <param-value>org.santfeliu.sql.store.DBConnectionStore</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.sql.store.DBConnectionStore.dsn</param-name>
    <param-value>jdbc/matrix</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.sql.store.DBConnectionStore.connTableName</param-name>
    <param-value>SQL_CONNECTION</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.elections.service.ElectionsManager.provinceId</param-name>
    <param-value>8</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.elections.service.ElectionsManager.townId</param-name>
    <param-value>211</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.doc.service.DocumentManager.documentStore</param-name>
    <param-value>org.santfeliu.doc.store.docjpa.JPADocumentStore</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.doc.service.DocumentManager.contentStore</param-name>
    <param-value>org.santfeliu.doc.store.cntora.OracleContentStore</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.doc.service.DocumentManager.migrationFlag</param-name>
    <param-value>true</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.doc.service.DocumentManager.adminRole</param-name>
    <param-value>FILE_ADMIN</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.doc.service.DocumentManager.findDocumentsQueryBuilder</param-name>
    <param-value>org.santfeliu.doc.store.docjpa.OraFindDocumentsQueryBuilder</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.doc.service.DocumentManager.findSummariesQueryBuilder</param-name>
    <param-value>org.santfeliu.doc.store.docjpa.OraFindSummariesQueryBuilder</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.cases.service.CaseManager.findCasesQueryBuilder</param-name>
    <param-value>org.santfeliu.cases.service.OraFindCasesQueryBuilder</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.dic.typeActionsPath</param-name>
    <param-value>typeactions.txt</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.report.engine.jasper.className</param-name>
    <param-value>org.santfeliu.report.engine.jasper.JasperReportEngine</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.report.engine.jasper.defaultConnectionName</param-name>
    <param-value>jdbc/matrix</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.report.engine.svg.className</param-name>
    <param-value>org.santfeliu.report.engine.svg.SvgReportEngine</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.report.engine.script.className</param-name>
    <param-value>org.santfeliu.report.engine.script.ScriptReportEngine</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.report.engine.template.className</param-name>
    <param-value>org.santfeliu.report.engine.template.TemplateReportEngine</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.mapviewer.logAccess</param-name>
    <param-value>true</param-value>
  </context-param>
  <context-param>
    <param-name>com.audifilm.matrix.common.service.PK.modulePrefix</param-name>
    <param-value>g5</param-value>
  </context-param>
  <context-param>
    <param-name>com.audifilm.matrix.common.service.PK.moduleSeparator</param-name>
    <param-value>:</param-value>
  </context-param>
  <context-param>
    <param-name>com.audifilm.matrix.common.service.PK.entityPrefixSeparator</param-name>
    <param-value>:</param-value>
  </context-param>
  <context-param>
    <param-name>com.audifilm.matrix.common.service.PK.pkSeparator</param-name>
    <param-value>;</param-value>
  </context-param>
  <context-param>
    <param-name>com.audifilm.matrix.common.service.PK.versionSeparator</param-name>
    <param-value>$</param-value>
  </context-param>
  <context-param>
    <param-name>com.audifilm.matrix.cases.service.CaseManager.dictionaryURL</param-name>
    <param-value>http://localhost:80/services/dic?wsdl</param-value>
  </context-param>
  <context-param>
    <param-name>com.audifilm.matrix.cases.service.CaseManager.kernelURL</param-name>
    <param-value>http://localhost:80/services/kernel?wsdl</param-value>
  </context-param>
  <context-param>
    <param-name>com.audifilm.matrix.dic.service.DictionaryManager.propertyDefinitionsFile</param-name>
    <param-value>GenesysDicPropertyDefinitions.properties</param-value>
  </context-param>
  <context-param>
    <param-name>com.audifilm.matrix.kernel.service.KernelManager.checkStorePersonQuery</param-name>
    <param-value>SELECT PERSCOD FROM HAB_MOVHABS WHERE PERSCOD = ? AND DATAFINAL = ' '</param-value>
  </context-param>
  <context-param>
    <param-name>com.audifilm.matrix.security.adminRoleId</param-name>
    <param-value>CASE_ADMIN</param-value>
  </context-param>
  <context-param>
    <param-name>com.audifilm.matrix.cases.allowNativeSQL</param-name>
    <param-value>true</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.agenda.service.AgendaManager.defaultCountryId</param-name>
    <param-value>108</param-value>
  </context-param>
  <context-param>
    <param-name>addressDescTypeCaseId</param-name>
    <param-value>sf:Equipament</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.web.filter.ShortcutFilter.url</param-name>
    <param-value/>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.web.filter.ShortcutFilter.updateInterval</param-name>
    <param-value>300000</param-value>
  </context-param>
  <context-param>
    <param-name>org.santfeliu.web.OpenNewWindowLabel</param-name>
    <param-value>Obre una nova finestra</param-value>
  </context-param>
   <context-param>
    <param-name>matrixClient.minVersion</param-name>
    <param-value>1</param-value>
  </context-param>
  <context-param>
    <param-name>cnt.dataSource</param-name>
    <param-value>jdbc/cnt</param-value>
  </context-param>    
  <context-param>
    <param-name>org.santfeliu.job.service.JobManager.enabled</param-name>
    <param-value>false</param-value>
  </context-param>    
  <context-param>
    <param-name>agenda.maxRecurrences</param-name>
    <param-value>100</param-value>
  </context-param>      
  <!-- listeners -->
  <listener>
    <listener-class>org.santfeliu.web.MatrixServletContextListener</listener-class>
  </listener>
  <listener>
    <listener-class>org.santfeliu.ws.WSServletContextListener</listener-class>
  </listener>
  <!-- Servlets -->
  <servlet>
    <description>WSDirectory servlet</description>
    <servlet-name>WSDirectoryServlet</servlet-name>
    <servlet-class>org.santfeliu.web.servlet.WSDirectoryServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
  </servlet>
  <servlet>
    <servlet-name>ScannerServlet</servlet-name>
    <servlet-class>org.santfeliu.web.servlet.ScannerServlet</servlet-class>
    <init-param>
      <description>Scan time gap in seconds</description>
      <param-name>scanTimeGap</param-name>
      <param-value>600</param-value>
    </init-param>
  </servlet>
  <servlet>
    <servlet-name>PaymentServlet</servlet-name>
    <servlet-class>org.santfeliu.web.servlet.PaymentServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>WSDirectoryServlet</servlet-name>
    <url-pattern>/wsdirectory/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <description>JAX-WS endpoint</description>
    <display-name>jaxws</display-name>
    <servlet-name>jaxws</servlet-name>
    <servlet-class>com.sun.xml.ws.transport.http.servlet.WSServlet</servlet-class>
    <load-on-startup>2</load-on-startup>
  </servlet>
  <servlet-mapping>
    <servlet-name>jaxws</servlet-name>
    <url-pattern>/services/*</url-pattern>
  </servlet-mapping>
  <!--    
      <servlet>
          <description>Faces servlet</description>
          <servlet-name>FacesServlet</servlet-name>
          <servlet-class>org.santfeliu.web.FacesServlet</servlet-class>
      </servlet>
      <servlet-mapping>
          <servlet-name>FacesServlet</servlet-name>
          <url-pattern>*.faces</url-pattern>
      </servlet-mapping>
  -->
  <servlet>
    <description>Document servlet. Retrieves documents by docid or UUID.</description>
    <servlet-name>DocumentServlet</servlet-name>
    <servlet-class>org.santfeliu.doc.web.DocumentServlet</servlet-class>
    <init-param>
      <param-name>defaultCacheTime</param-name>
      <param-value>60000</param-value>
    </init-param>
  </servlet>
  <servlet-mapping>
    <servlet-name>DocumentServlet</servlet-name>
    <url-pattern>/documents/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <description>Classification servlet</description>
    <servlet-name>ClassificationServlet</servlet-name>
    <servlet-class>org.santfeliu.classif.web.ClassificationServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ClassificationServlet</servlet-name>
    <url-pattern>/classif/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <description>News RSS servlet</description>
    <servlet-name>NewsRSSServlet</servlet-name>
    <servlet-class>org.santfeliu.news.web.NewsRSSServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>NewsRSSServlet</servlet-name>
    <url-pattern>/rss/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <description>Feeds RSS servlet</description>
    <servlet-name>FeedRSSServlet</servlet-name>
    <servlet-class>org.santfeliu.feed.web.FeedRSSServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>FeedRSSServlet</servlet-name>
    <url-pattern>/feed/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <description>Agenda servlet</description>
    <servlet-name>AgendaServlet</servlet-name>
    <servlet-class>org.santfeliu.agenda.web.AgendaServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>AgendaServlet</servlet-name>
    <url-pattern>/events/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <description>Signature servlet. Manages signature documents</description>
    <servlet-name>SignatureServlet</servlet-name>
    <servlet-class>org.santfeliu.signature.web.SignatureServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>SignatureServlet</servlet-name>
    <url-pattern>/signatures/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <description>QRCode generator servlet</description>
    <servlet-name>QRCodeServlet</servlet-name>
    <servlet-class>org.santfeliu.web.servlet.QRCodeServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>QRCodeServlet</servlet-name>
    <url-pattern>/qrcode/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <description>Proxy servlet</description>
    <servlet-name>ProxyServlet</servlet-name>
    <servlet-class>org.santfeliu.web.servlet.ProxyServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ProxyServlet</servlet-name>
    <url-pattern>/proxy/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <description>Form servlet</description>
    <servlet-name>FormServlet</servlet-name>
    <servlet-class>org.santfeliu.web.servlet.FormServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>FormServlet</servlet-name>
    <url-pattern>/form/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <description>Script servlet</description>
    <servlet-name>ScriptServlet</servlet-name>
    <servlet-class>org.santfeliu.web.servlet.ScriptServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ScriptServlet</servlet-name>
    <url-pattern>/scripts/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>ScriptServlet</servlet-name>
    <url-pattern>/rest/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <description>Valid servlet</description>
    <servlet-name>ValidServlet</servlet-name>
    <servlet-class>org.santfeliu.security.web.ValidServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ValidServlet</servlet-name>
    <url-pattern>/valid/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <description>Clock servlet</description>
    <servlet-name>ClockServlet</servlet-name>
    <servlet-class>org.santfeliu.faces.clock.ClockServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ClockServlet</servlet-name>
    <url-pattern>/clock/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <description>FCKEditor resources servlet</description>
    <servlet-name>FCKEditorServlet</servlet-name>
    <servlet-class>org.santfeliu.faces.fckeditor.util.Servlet</servlet-class>
    <init-param>
      <param-name>customResourcePath</param-name>
      <param-value>/</param-value>
    </init-param>
  </servlet>
  <servlet-mapping>
    <servlet-name>FCKEditorServlet</servlet-name>
    <url-pattern>/fckfaces/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <description>Commands Servlet</description>
    <servlet-name>CommandServlet</servlet-name>
    <servlet-class>org.santfeliu.web.servlet.CommandServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>CommandServlet</servlet-name>
    <url-pattern>/commands/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <description>Report servlet</description>
    <servlet-name>ReportServlet</servlet-name>
    <servlet-class>org.santfeliu.report.web.ReportServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ReportServlet</servlet-name>
    <url-pattern>/reports/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <description>Image scale servlet</description>
    <servlet-name>ImageScaleServlet</servlet-name>
    <servlet-class>org.santfeliu.web.servlet.ImageScaleServlet</servlet-class>
    <init-param>
      <param-name>maxSize</param-name>
      <param-value>2000</param-value>
    </init-param>
  </servlet>
  <servlet-mapping>
    <servlet-name>ImageScaleServlet</servlet-name>
    <url-pattern>/imgscale/*</url-pattern>
  </servlet-mapping>
  <servlet>
    <description>Work servlet</description>
    <servlet-name>WorkServlet</servlet-name>
    <servlet-class>org.santfeliu.web.servlet.WorkServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>WorkServlet</servlet-name>
    <url-pattern>/work/*</url-pattern>
  </servlet-mapping>
  <!-- Filters -->
  <filter>
    <description>Set UTF-8 character encoding</description>
    <filter-name>CharacterEncoding</filter-name>
    <filter-class>org.santfeliu.web.filter.CharacterEncodingFilter</filter-class>
  </filter>
  <filter-mapping>
    <filter-name>CharacterEncoding</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping>
  <filter>
    <filter-name>RemoteIpFilter</filter-name>
    <filter-class>org.santfeliu.web.filter.RemoteIpFilter</filter-class>
  </filter>
  <filter-mapping>
    <filter-name>RemoteIpFilter</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping>
  <filter>
    <filter-name>ShortcutFilter</filter-name>
    <filter-class>org.santfeliu.web.filter.ShortcutFilter</filter-class>
  </filter>
  <filter-mapping>
    <filter-name>ShortcutFilter</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping>
  <!--
      <filter>
          <filter-name>RequestControlFilter</filter-name>
          <filter-class>org.santfeliu.web.filter.RequestControlFilter</filter-class>
          <init-param>
              <param-name>maxRequests</param-name>
              <param-value>40</param-value>
          </init-param>
      </filter>
      <filter-mapping>
          <filter-name>RequestControlFilter</filter-name>
          <url-pattern>*.faces</url-pattern>
          <url-pattern>/rss/*</url-pattern>
      </filter-mapping>
  -->
  <filter>
    <filter-name>ExtensionsFilter</filter-name>
    <filter-class>org.apache.myfaces.webapp.filter.ExtensionsFilter</filter-class>
    <init-param>
      <description>Set the size limit for uploaded files.
        Format: 10 - 10 bytes
        10k - 10 KB
        10m - 10 MB
        1g - 1 GB
      </description>
      <param-name>uploadMaxFileSize</param-name>
      <param-value>100m</param-value>
    </init-param>
    <init-param>
      <description>
        Set the threshold size - files
        below this limit are stored in memory, files above
        this limit are stored on disk.
        Format: 10 - 10 bytes
        10k - 10 KB
        10m - 10 MB
        1g - 1 GB
      </description>
      <param-name>uploadThresholdSize</param-name>
      <param-value>100k</param-value>
    </init-param>
  </filter>
  <!--    
      <filter-mapping>
          <filter-name>ExtensionsFilter</filter-name>
          <servlet-name>FacesServlet</servlet-name>
      </filter-mapping>
  -->
  <filter-mapping>
    <filter-name>ExtensionsFilter</filter-name>
    <url-pattern>*.faces</url-pattern>
  </filter-mapping>
  <filter-mapping>
    <filter-name>ExtensionsFilter</filter-name>
    <url-pattern>/faces/*</url-pattern>
  </filter-mapping>
  <servlet-mapping>
    <servlet-name>ScannerServlet</servlet-name>
    <url-pattern>/scanner/*</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
    <servlet-name>PaymentServlet</servlet-name>
    <url-pattern>/pagament/*</url-pattern>
  </servlet-mapping>
  <session-config>
    <session-timeout>100</session-timeout>
  </session-config>
  <mime-mapping>
    <extension>html</extension>
    <mime-type>text/html</mime-type>
  </mime-mapping>
  <mime-mapping>
    <extension>txt</extension>
    <mime-type>text/plain</mime-type>
  </mime-mapping>
  <mime-mapping>
    <extension>wsdl</extension>
    <mime-type>text/xml</mime-type>
  </mime-mapping>
  <mime-mapping>
    <extension>xsd</extension>
    <mime-type>text/xml</mime-type>
  </mime-mapping>
  <welcome-file-list id="WelcomeFileList">
    <welcome-file>index.html</welcome-file>
    <welcome-file>index.jsp</welcome-file>
  </welcome-file-list>
  <resource-ref>
    <res-ref-name>jdbc/matrix</res-ref-name>
    <res-type>javax.sql.DataSource</res-type>
    <res-auth>Container</res-auth>
  </resource-ref> 
  <error-page>
    <exception-type>javax.faces.application.ViewExpiredException</exception-type>
    <location>/common/util/error_view.xhtml</location>
  </error-page>
  <distributable />
</web-app>
