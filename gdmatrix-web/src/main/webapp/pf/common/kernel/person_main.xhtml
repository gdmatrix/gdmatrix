<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:sf="http://faces.santfeliu.org"
                template="person_template.xhtml">

  <ui:param name="object_template" value="object.xhtml" />
  <ui:param name="updateOnSearch" value="" />       
  <ui:param name="ajax" value="false" />

  <ui:define name="object_header">
    <i class="pi pi-id-card text-5xl mx-4 my-2"/>
  </ui:define>

  <ui:define name="content">
    <f:loadBundle basename="org.santfeliu.kernel.web.resources.KernelBundle"
                  var="kernelBundle" />

    <h:panelGroup>

      <div class="formgrid grid pl-2">   

        <div class="field col-12 md:col-4 lg:col-2">
          <p:outputLabel for="id" value="Id. de persona" />
          <p:inputText id="id" value="#{personMainBacking.person.personId}" 
                       styleClass="inputfield w-full" readonly="true" />
        </div>

        <div class="field col-12 md:col-4">
          <p:outputLabel for="personTypeId" value="#{kernelBundle.person_type}" />

          <p:selectOneMenu id="personTypeId" value="#{personMainBacking.person.personTypeId}"  
                           styleClass="inputfield w-full"
                           filter="true" var="t">
            <f:selectItems value="#{personMainBacking.typedHelper.allTypes}" var="type" 
              itemLabel="#{type.description}" itemValue="#{type.typeId}" />
            <p:column>
              <h:outputText value="#{t}" />
            </p:column>
            <p:column>
              <h:outputText value="#{typeBean.getDescription(t)}" />
            </p:column>            
          </p:selectOneMenu>
        </div>        
      </div>

      <div class="field col-12 md:col-4 ">
        <p:outputLabel for="name" value="#{kernelBundle.person_name}" />        
        <p:inputText id="name" value="#{personMainBacking.person.name}" 
                     styleClass="inputfield w-full" />
      </div>      

      <div class="formgrid grid pl-2"> 
        <div class="field sm:col-4 lg:col-2">
          <p:outputLabel for="first_particle" value="#{kernelBundle.person_particle}" />
          <p:selectOneMenu id="first_particle" value="#{personMainBacking.person.firstParticle}"
                           styleClass="inputfield w-full">
            <f:selectItems value="#{personMainBacking.personParticleSelectItems}" />
          </p:selectOneMenu>
        </div>  

        <div class="field sm:col-8 lg:col-4">
          <p:outputLabel for="surname1" value="#{kernelBundle.person_surname1}" />        
          <p:inputText id="surname1" value="#{personMainBacking.person.firstSurname}" 
                       styleClass="inputfield w-full" />
        </div>

        <div class="field sm:col-4 lg:col-2">
          <p:outputLabel for="second_particle" value="#{kernelBundle.person_particle}" />
          <p:selectOneMenu id="second_particle" value="#{personMainBacking.person.secondParticle}"
                           styleClass="inputfield w-full">
            <f:selectItems value="#{personMainBacking.personParticleSelectItems}" />
          </p:selectOneMenu>
        </div>         

        <div class="field sm:col-8 lg:col-4">
          <p:outputLabel for="surname2" value="#{kernelBundle.person_surname2}" />
          <p:inputText id="surname2" value="#{personMainBacking.person.secondSurname}" 
                       styleClass="inputfield w-full"/>
        </div>    
      </div>

      <div class="formgrid grid pl-2">       
        <div class="field col-12 md:col-4 lg:col-2">
          <p:outputLabel for="nif" value="#{kernelBundle.person_nif}" />
          <p:inputText id="nif" value="#{personMainBacking.person.nif}" 
                       styleClass="inputfield w-full"/>
        </div> 

        <div class="field col-12 md:col-4 lg:col-2">
          <p:outputLabel for="passport" value="#{kernelBundle.person_passport}" />
          <p:inputText id="passport" value="#{personMainBacking.person.passport}" 
                       styleClass="inputfield w-full"/>
        </div>   

        <div class="field col-12 md:col-4 lg:col-2">
          <p:outputLabel for="sex" value="#{kernelBundle.person_sex}" />
          <p:selectOneMenu id="sex" value="#{personMainBacking.person.sex}"
                           styleClass="inputfield w-full">
            <f:selectItems value="#{personMainBacking.sexSelectItems}" />
          </p:selectOneMenu>
        </div>            
      </div>
<!--
      <div class="formgrid grid pl-2">       
        <div class="field col-12 md:col-4 lg:col-2">
          <p:outputLabel for="birth_date" value="#{kernelBundle.person_birthDate}" />
          <p:datePicker id="birth_date" value="#{personMainBacking.person.birthDate}" 
                        styleClass="inputfield w-full" showIcon="true"
                        monthNavigator="true" yearNavigator="true"/>
        </div> 
      </div>   
-->      
      <div class="formgrid grid pl-2">         
        <div class="field col-12 md:col-6 lg:col-4">
          <h:outputLabel for="person_birthCity" value="#{kernelBundle.person_birthCity}:" />
          <p:inputText id="person_birthCity" value="#{personMainBacking.person.birthCityId}" 
                       styleClass="inputfield w-full" />
        </div>
        <div class="field col-12 md:col-6 lg:col-4">
          <h:outputLabel for="person_nationality" value="#{kernelBundle.person_nationality}:" />
          <p:inputText id="person_nationality" value="#{personMainBacking.person.nationalityId}" styleClass="inputfield w-full" />
        </div>        
      </div>

      <div class="formgrid grid pl-2">
        <div class="field col-12 md:col-6 lg:col-4">
          <h:outputLabel for="person_father" value="#{kernelBundle.person_father}:" />
          <p:inputText value="#{personMainBacking.person.fatherName}" 
                       styleClass="inputfield w-full" />
        </div>
        <div class="field col-12 md:col-6 lg:col-4">
          <h:outputLabel for="person_mother" value="#{kernelBundle.person_mother}:" />
          <p:inputText  value="#{personMainBacking.person.motherName}" styleClass="inputfield w-full" />
        </div>
      </div>      

    </h:panelGroup>

    <div class="tab_footer text-right">
      <p:commandButton action="#{personMainBacking.store}" ajax="true" update="form_panel growl "
                       value="#{objectBundle.store}" 
                       styleClass="ui-button-raised m-1" />
      <p:commandButton action="#{personMainBacking.remove}" ajax="true" update="form_panel growl " 
                       value="#{objectBundle.delete}" immediate="true"
                       onclick="return confirm('#{objectBundle.confirm_full_remove}');"
                       styleClass="ui-button-raised m-1" />
      <p:commandButton value="#{objectBundle.cancel}" styleClass="ui-button-raised m-1">
        <p:ajax update="form_panel growl" resetValues="true"/>
      </p:commandButton>        
    </div> 


  </ui:define>


</ui:composition>
