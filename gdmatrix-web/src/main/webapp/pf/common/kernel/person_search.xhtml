<ui:composition 
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"  
  xmlns:ui="http://java.sun.com/jsf/facelets"      
  xmlns:p="http://primefaces.org/ui"
  template="person_template.xhtml">
    
  <ui:param name="object_template" value="object_search.xhtml" />
  <ui:param name="updateOnSearch" value="mainform:full_results_table" />
  <ui:param name="ajax" value="true" /> 

  <ui:define name="content"> 
    <p:dataTable id="full_results_table" value="#{personSearchBacking.resultListHelper.rows}" var="row"
                 stripedRows="true" paginator="true" pageLinks="5"
                 paginatorPosition="bottom" size="small"
                 first="#{personSearchBacking.resultListHelper.firstRowIndex}"
                 rows="#{personSearchBacking.resultListHelper.pageSize}">
      <p:column headerText="Id." styleClass="w-1">
        <h:outputText value="#{row.personId}" />
      </p:column>         
      <p:column headerText="#{kernelBundle.person_nif}" styleClass="w-2">
        <h:outputText value="#{row.nif}" />
      </p:column>        
      <p:column headerText="#{kernelBundle.person_name}" styleClass="w-8">
        <h:outputText value="#{row.fullName}" />
      </p:column>   
      <p:column styleClass="w-1">
        <p:commandButton icon="pi pi-pencil" styleClass="ui-button-raised m-1" 
                         action="#{personSearchBacking.show(row.getPersonId())}" immediate="true" ajax="false" />
        <p:commandButton icon="pi pi-replay" styleClass="ui-button-raised m-1"
          action="#{personSearchBacking.select(row.getPersonId())}" immediate="true" ajax="false" />         
      </p:column>
    </p:dataTable>  
  </ui:define>

</ui:composition> 
