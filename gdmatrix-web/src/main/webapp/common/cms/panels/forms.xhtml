<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

  <p:outputPanel styleClass="nodeConfigPanel" 
                 rendered="#{nodeEditBean.formsTabSelected}">
    
    <div class="flexRowPanel wide">

      <div class="buttonsPanel">
        <p:commandLink actionListener="#{configFormsBacking.storeForms}" styleClass="imageButton"
                       rendered="#{nodeEditBean.savePropertiesEnabled}" 
                       update="@this @(.toolbarRenderingButtons) :mainform:topPanel :mainform:tree :mainform:rootSelectionPanel @(.userPropertyListPanel) @(.nodeConfigPanel) :mainform:messagesPanel" ajax="true">
          <h:graphicImage alt="#{cmsBundle.saveProperties}" url="/common/cms/images/save.png" title="#{cmsBundle.saveProperties}" />
        </p:commandLink>
        <p:commandLink actionListener="#{configFormsBacking.revertForms}" styleClass="imageButton"
                       rendered="#{nodeEditBean.addPropertyEnabled}"
                       update="@this @(.nodeConfigPanel) :mainform:messagesPanel" ajax="true" global="false">
          <h:graphicImage alt="#{cmsBundle.revert}" url="/common/cms/images/revert.png" title="#{cmsBundle.revert}" />
        </p:commandLink>
      </div>
        
    </div>

    <p:outputPanel id="editFormsPanel" styleClass="editFormsPanel expand">
      
      <p:tabView styleClass="w-12">

        <!-- TODO translate -->  
        <p:tab title="Sistema">
          <ui:include src="/pf/common/cms/config.xhtml" />
        </p:tab>

        <p:tab title="Template (#{userSessionBean.template})"
               rendered="#{configFormsBacking.renderTemplateForm}">
          <ui:include src="#{configFormsBacking.templateForm}" />
        </p:tab>   

        <p:tab title="Node (#{nodeEditBean.selectedNodeLabel})">
          <!-- Template config form -->
  <!--
        <c:forEach items="#{nodeEditBean.configForms}" var="form">
          <p:tab title="#{userSessionBean.selectedMenuItem.properties.label}">
            <ui:include src="/common/cms/forms/#{form}.xhtml" />
          </p:tab>
        </c:forEach>
  -->        
        </p:tab>              

      </p:tabView>
      
    </p:outputPanel>

  </p:outputPanel>

</ui:composition>
