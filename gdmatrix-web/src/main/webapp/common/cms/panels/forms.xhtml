<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://java.sun.com/jsp/jstl/core">

  <p:outputPanel styleClass="" 
         rendered="#{nodeEditBean.formsTabSelected}">
    
    <p:outputPanel styleClass="flexRowPanel wide">

      <p:outputPanel styleClass="buttonsPanel">
        <p:commandLink actionListener="#{configFormsBacking.storeForms}" styleClass="imageButton"
                       rendered="#{nodeEditBean.savePropertiesEnabled}" 
                       update="@this toolbarRenderingButtons topPanel mainform:tree rootSelectionPanel userPropertyListPanel messagesPanel" ajax="true">
          <h:graphicImage alt="#{cmsBundle.saveProperties}" url="/common/cms/images/save.png" title="#{cmsBundle.saveProperties}" />
        </p:commandLink>
        <p:commandLink actionListener="#{nodeEditBean.revertProperties}" styleClass="imageButton"
                       rendered="#{nodeEditBean.addPropertyEnabled}"
                       update="@this userPropertyListPanel messagesPanel" ajax="true" global="false">
          <h:graphicImage alt="#{cmsBundle.revert}" url="/common/cms/images/revert.png" title="#{cmsBundle.revert}" />
        </p:commandLink>
      </p:outputPanel>
        

    </p:outputPanel>
    
 
    <p:outputPanel id="editFormsPanel" styleClass="editFormsPanel expand">
      
      <p:tabView styleClass="w-12">

      <!-- TODO translate -->  
      <p:tab title="Sistema">
        <ui:include src="/pf/common/cms/config.xhtml" />
      </p:tab>
       
      <p:tab title="Template (#{userSessionBean.template})"
             rendered="#{configFormsBacking.renderTemplateForm}">
        <ui:include src="#{configFormsBacking.templateForm}" />
      </p:tab>   
        
      <p:tab title="Node (#{userSessionBean.selectedMenuItem.properties.label})">
        <!-- Template config form -->
<!--
      <c:forEach items="#{nodeEditBean.configForms}" var="form">
        <p:tab title="#{userSessionBean.selectedMenuItem.properties.label}">
          <ui:include src="/common/cms/forms/#{form}.xhtml" />
        </p:tab>
      </c:forEach>
-->        
      </p:tab>           
        


    </p:tabView>
      

      
    </p:outputPanel>

  </p:outputPanel>

</ui:composition>
