<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:sf="http://faces.santfeliu.org">

  <ui:composition template="/common/workflow/instance.xhtml">

    <ui:define name="form">

      <f:loadBundle basename="org.santfeliu.workflow.web.resources.WorkflowBundle" var="workflowBundle" />

      <h:panelGroup layout="block" class="final_form" 
                    rendered="#{instanceBean.finalFormSelector == null}">
        <h:graphicImage url="#{instanceBean.finalIcon}" style="vertical-align:middle" alt="" />
        <sf:outputText value="#{instanceBean.finalMessage}" 
          translator="#{instanceBean.translationEnabled ? applicationBean.translator : null}" 
          translationGroup="#{instanceBean.workflowName}"
          styleClass="workflowMessage" escape="false" />
      </h:panelGroup>

      <h:panelGroup layout="block" class="final_form" 
                    rendered="#{instanceBean.finalFormSelector != null}">
        <sf:dynamicForm form="#{instanceBean.finalForm}"
          rendererTypes="#{instanceBean.formRenderers}"
          value="#{instanceBean.variables}"
          translator="#{instanceBean.translationEnabled ? applicationBean.translator : null}" 
          translationGroup="#{instanceBean.workflowName}" />
      </h:panelGroup>

    </ui:define>
  </ui:composition>
</html>